// Q41: Display child PID and parent PID
#include<stdio.h>
#include<unistd.h>
#include<stdlib.h>

int main() {
    pid_t pid = fork();

    if (pid < 0) {
        printf("Fork failed\n");
        return 1;
    }
    else if (pid == 0) {
        printf("Child process\n");
        printf("Child PID: %d\n", getpid());
        printf("Parent PID: %d\n", getppid());
    }
    else {
        printf("Parent process\n");
        printf("Parent PID: %d\n", getpid());
        printf("Child PID: %d\n", pid);
    }
    return 0;
}


// Q43: Zombie process (child exits, parent sleeps)
#include<stdio.h>
#include<unistd.h>
#include<stdlib.h>

int main() {
    pid_t pid = fork();

    if (pid < 0) { printf("Fork failed\n"); return 1; }

    if (pid == 0) {
        printf("Child PID=%d exiting...\n", getpid());
        exit(0);
    } else {
        printf("Parent PID=%d sleeping so child becomes zombie\n", getpid());
        sleep(10);
        printf("Parent exiting\n");
    }
    return 0;
}


// Q44: Orphan process (parent exits first)
#include<stdio.h>
#include<unistd.h>
#include<stdlib.h>

int main() {
    pid_t pid = fork();

    if (pid < 0) { printf("Fork failed\n"); return 1; }

    if (pid == 0) {
        printf("Child PID=%d running\n", getpid());
        sleep(6);
        printf("After parent exit, new parent PID=%d\n", getppid());
    }
    else {
        printf("Parent PID=%d exiting immediately\n", getpid());
        exit(0);
    }
    return 0;
}
